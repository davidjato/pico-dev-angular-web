<div #scene class="scene-container"></div>
<div class="badge">Pulsa <span class="kbd">Espacio</span> para encender/apagar</div>
<div id="drop" class="drop"><span>Suelta aquí tu archivo .stl</span></div>
<div id="controls" class="panel">
  <div style="background:#181c22;color:#7ff;padding:8px 12px;margin:10px 0 0 0;font-size:0.95em;border-radius:6px;word-break:break-all">
    <b>Config actual:</b>
    <pre style="margin:0;color:#7ff;background:none">{{ sceneConfig | json }}</pre>
  </div>
  <label>Offset logo Y:
    <span style="font-size:0.9em;color:#7ff">{{ logoOffsetY | number:'1.2-2' }}</span>
  </label>
  <input type="range" min="-10" max="10" step="0.01" [(ngModel)]="logoOffsetY" />
  <label>Offset logo Z:
    <span style="font-size:0.9em;color:#7ff">{{ logoOffsetZ | number:'1.2-2' }}</span>
  </label>
  <input type="range" min="-10" max="10" step="0.01" [(ngModel)]="logoOffsetZ" />
  <label>Mover cámara horizontal (X):
    <span style="font-size:0.9em;color:#7ff">{{ cameraPosX | number:'1.2-2' }}</span>
  </label>
  <input type="range" min="-15" max="15" step="0.01" [(ngModel)]="cameraPosX" />
  <small style="color:#aaa;display:block;margin-bottom:8px">Desplaza la cámara para ver el logo más a la izquierda o derecha</small>
  <label>Rotar logo (Y)</label>
  <input type="range" min="-3.14" max="3.14" step="0.01" [(ngModel)]="logoRotationY" />
  <h1>Objeto con efecto neón · Three.js</h1>
  <div class="row full">
    <button type="button" (click)="toggleNeon()">{{ isOn ? 'Apagar' : 'Encender' }}</button>
    <label style="display:flex;align-items:center;gap:8px;justify-self:end">
      Color
      <input type="color" [(ngModel)]="color" (input)="onColorChange()" title="Color del neón" />
    </label>
  </div>
  <label>Intensidad neón</label>
  <input type="range" min="0" max="4" step="0.01" [(ngModel)]="baseIntensity" (input)="onIntensityChange()" />
  <label>Bloom (resplandor)</label>
  <input type="range" min="0" max="2" step="0.01" [(ngModel)]="bloom" (input)="onBloomChange()" />
  <label>Umbral Bloom</label>
  <input type="range" min="0" max="1" step="0.001" [(ngModel)]="threshold" (input)="onBloomChange()" />
  <label>Radio Bloom</label>
  <input type="range" min="0" max="1" step="0.001" [(ngModel)]="radius" (input)="onBloomChange()" />
  <label class="full" style="display:flex;align-items:center;gap:10px">
    <input type="checkbox" [(ngModel)]="pulse" /> Parpadeo realista
  </label>
  <label class="full" style="display:flex;align-items:center;gap:10px">
    <input type="checkbox" [(ngModel)]="loop" (change)="onLoopChange()" /> Bucle ON/OFF realista
  </label>
  <label>Tiempo encendido (s)</label>
  <input type="range" min="0.5" max="6" step="0.1" [(ngModel)]="onTime" />
  <label>Tiempo apagado (s)</label>
  <input type="range" min="0.2" max="6" step="0.1" [(ngModel)]="offTime" />
  <label>Giro automático</label>
  <input type="range" min="0" max="0.05" step="0.0005" [(ngModel)]="spinSpeed" />
  <div class="row full">
    <button type="button" (click)="fileInput.click()">Cargar STL…</button>
    <label style="display:flex;align-items:center;gap:8px;justify-self:end">
      <input type="checkbox" [(ngModel)]="autoRotate" /> Auto-rotar Z→Y (al cargar)
    </label>
    <input #fileInput type="file" accept=".stl" style="display:none" (change)="onFileChange($event)" />
  </div>
</div>
